{% extends '@Openl10nWeb/layout/base.html.twig' %}

{% block content %}
  <div class="ol-header">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="pull-right">
            <a class="btn btn-success" href="{{ path('openl10n_project_new') }}">
              New project
            </a>
          </div>

          <div>
            <h2 class="ol-header-title">
              Projects
            </h2>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">

      {# Sidebar #}
      <div class="col-md-4 hidden-xs hidden-sm">
        <div class="panel panel-default">
          <div class="panel-body">

            <div class="media">
              <a class="pull-left" href="#">
                <img class="media-object" src="{{ avatar_url(app.user.email, 70) }}" alt="Avatar">
              </a>

              <div class="media-body">
                <h4 class="media-heading">
                  Hello <strong>{{ app.user.displayName }}</strong>
                </h4>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      {# Main column #}
      <div class="col-md-8">
        <h2>Projects</h2>

        <div class="row">
          {% for project in projects %}
            <div class="col-sm-4">
              <div class="panel panel-default panel-project">
                <div class="panel-heading">
                  <h3 class="panel-title"><a href="{{ path('openl10n_project_show', {'slug': project.slug}) }}">{{ project.name }}</a></h3>
                </div>
                <div class="panel-body">
                  <p><a href="{{ path('openl10n_language_list', {'slug': project.slug}) }}">{{ ':count language|:count languages'|transchoice(project.languages|length, {':count': project.languages|length}) }}</a></p>
                  <p><a href="{{ path('openl10n_project_show', {'slug': project.slug}) }}">{{ ':count domain|:count domains'|transchoice(project.domains|length, {':count': project.domains|length}) }}</a></p>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
